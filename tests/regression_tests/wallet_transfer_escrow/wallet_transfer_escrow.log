default (unlocked) >>> wallet_account_balance delegate0
ACCOUNT                         BALANCE                     
============================================================
delegate0                       19,801,980.19801 XTS        
default (unlocked) >>> wallet_account_create sender
"XTS6cVReASHH3E4bqzjaubRaVXJYUXegRFzxmFvsD8AwCPf1dkhra"
default (unlocked) >>> wallet_account_create receiver
"XTS5DBeMtFiZaive82nTRuZjBbfZMVFZbudCs86bDfh3XwkKSdUqw"
default (unlocked) >>> wallet_account_create agent
"XTS5W4ayhoWynsujeA8BZ1vMo3MXkTwpmegf3qVdtjzBUpo5DAxqi"
default (unlocked) >>> debug_advance_time 1 blocks
OK
default (unlocked) >>> debug_wait 4
OK
default (unlocked) >>> wallet_account_register sender delegate0
TIMESTAMP           BLOCK     FROM                TO                  AMOUNT                  MEMO                                        FEE                 ID      
======================================================================================================================================================================
<d-ign>2014-06-20T14:40:40</d-ign>PENDING   delegate0           sender              0.00000 XTS             register sender                             0.50000 XTS         <d-ign> b17c3f36</d-ign>
default (unlocked) >>> wallet_account_register receiver delegate0
TIMESTAMP           BLOCK     FROM                TO                  AMOUNT                  MEMO                                        FEE                 ID      
======================================================================================================================================================================
<d-ign>2014-06-20T14:40:40</d-ign>PENDING   delegate0           receiver            0.00000 XTS             register receiver                           0.50000 XTS         <d-ign> 42a4e1be</d-ign>
default (unlocked) >>> wallet_account_register agent delegate0
TIMESTAMP           BLOCK     FROM                TO                  AMOUNT                  MEMO                                        FEE                 ID      
======================================================================================================================================================================
<d-ign>2014-06-20T14:40:40</d-ign>PENDING   delegate0           agent               0.00000 XTS             register agent                              0.50000 XTS         <d-ign> 12d329ef</d-ign>
default (unlocked) >>> debug_advance_time 1 blocks
OK
default (unlocked) >>> debug_wait 4
OK
default (unlocked) >>> wallet_transfer 10000 XTS delegate0 sender
TIMESTAMP           BLOCK     FROM                TO                  AMOUNT                  MEMO                                        FEE                 ID      
======================================================================================================================================================================
<d-ign>2014-06-20T14:40:50</d-ign>PENDING   delegate0           sender              10,000.00000 XTS                                                    0.50000 XTS         <d-ign> f1ab5ef6</d-ign>
default (unlocked) >>> debug_advance_time 1 blocks
default (unlocked) >>> debug_wait 4
OK
default (unlocked) >>> balance delegate0
ACCOUNT                         BALANCE                     
============================================================
delegate0                       19,791,978.19801 XTS        
default (unlocked) >>> balance sender
default (unlocked) >>> balance agent
default (unlocked) >>> balance receiver
default (unlocked) >>> wallet_transfer_from_with_escrow  1000 XTS sender sender receiver agent "5100000000000000000000000000000000000000000000000000000000000005" "my memo"
{
  "index": 0,
  "record_id": "e4d1f3d76c0470fc238fd35df01cf139a7636ff2",
  "block_num": 0,
  "is_virtual": false,
  "is_confirmed": false,
  "is_market": false,
  "trx": {
    "expiration": "2014-06-20T15:41:00",
    "slate_id": null,
    "operations": [{
        "type": "deposit_op_type",
        "data": {
          "amount": 100000000,
          "condition": {
            "asset_id": 0,
            "slate_id": 0,
            "type": "withdraw_escrow_type",
            "data": {
              "sender": "XTS2HLJKuZVHs9FqGR5TEREnBcJ8bnfMAHAD",
              "receiver": "XTSAyGmuUgpqABEL2fq3vfWzMAwxoz914FQc",
              "escrow": "XTSJDKfxJqG4A4RGNfgkrg9o89ZJsSpx6j15",
              "agreement_digest": "5100000000000000000000000000000000000000000000000000000000000005",
              "memo": {
                "one_time_key": "XTS6Qi2AF9yduV3yFMhGo5dZHP8sq3xMoTLmpYKSmQ7H9qtCq9gNW",
                "encrypted_memo_data": "0fea8de3b55074bc9302ba67eb1fde9d124dc8145f8f05984f16bcf5e26d7af7d37c3aef8cead1932e2c55e66805f6b24d327f331720141fed0966edd7c54ac6"
              }
            }
          }
        }
      },{
        "type": "withdraw_op_type",
        "data": {
          "balance_id": "XTSQ64zpSJuFzNuDMp1ThGz9tgudPYUYwtsH",
          "amount": 100050000,
          "claim_input_data": ""
        }
      }
    ],
    "signatures": [
      "2045f0ac995618c48784ccf3ba3db3f4fd3c91c646cdd2f9c8213eb528f7f101a96f655face5bb292e99b3be725b707f2ffeaf48cc9fb03119477046f684c2182a"
    ]
  },
  "ledger_entries": [{
      "from_account": "XTS6cVReASHH3E4bqzjaubRaVXJYUXegRFzxmFvsD8AwCPf1dkhra",
      "to_account": "XTS5DBeMtFiZaive82nTRuZjBbfZMVFZbudCs86bDfh3XwkKSdUqw",
      "amount": {
        "amount": 100000000,
        "asset_id": 0
      },
      "memo": "my memo",
      "memo_from_account": "XTS6cVReASHH3E4bqzjaubRaVXJYUXegRFzxmFvsD8AwCPf1dkhra"
    }
  ],
  "fee": {
    "amount": 50000,
    "asset_id": 0
  },
  "created_time": "2014-06-20T14:41:00",
  "received_time": "2014-06-20T14:41:00",
  "extra_addresses": []
}
default (unlocked) >>> debug_advance_time 1 blocks
OK
default (unlocked) >>> debug_wait 4
OK
default (unlocked) >>> wallet_escrow_summary sender
[{
    "creating_transaction_id": "0000000000000000000000000000000000000000",
    "balance_id": "XTSKrhkPnQToEZfF4JXDztmKbFURpvwxVdA3",
    "balance": {
      "amount": 100000000,
      "asset_id": 0
    },
    "sender_account_name": "sender",
    "receiver_account_name": "receiver",
    "escrow_agent_account_name": "agent",
    "agreement_digest": "5100000000000000000000000000000000000000000000000000000000000005"
  }
]
default (unlocked) >>> wallet_escrow_summary receiver
[{
    "creating_transaction_id": "0000000000000000000000000000000000000000",
    "balance_id": "XTSKrhkPnQToEZfF4JXDztmKbFURpvwxVdA3",
    "balance": {
      "amount": 100000000,
      "asset_id": 0
    },
    "sender_account_name": "sender",
    "receiver_account_name": "receiver",
    "escrow_agent_account_name": "agent",
    "agreement_digest": "5100000000000000000000000000000000000000000000000000000000000005"
  }
]
default (unlocked) >>> wallet_escrow_summary agent
[]
default (unlocked) >>> wallet_escrow_summary delegate0
[]
>>> wallet_release_escrow sender XTSKrhkPnQToEZfF4JXDztmKbFURpvwxVdA3 sender 0 20000 
default (unlocked) >>> debug_advance_time 1 blocks
default (unlocked) >>> debug_wait 4
default (unlocked) >>> wallet_escrow_summary sender
default (unlocked) >>> wallet_escrow_summary receiver
default (unlocked) >>> balance receiver
default (unlocked) >>> balance sender
>>> wallet_release_escrow receiver XTSKrhkPnQToEZfF4JXDztmKbFURpvwxVdA3 receiver 10000 0 
default (unlocked) >>> debug_advance_time 1 blocks
default (unlocked) >>> debug_wait 4
default (unlocked) >>> wallet_escrow_summary sender
default (unlocked) >>> wallet_escrow_summary receiver
default (unlocked) >>> balance receiver
default (unlocked) >>> balance sender
>>> wallet_release_escrow delegate0 XTSKrhkPnQToEZfF4JXDztmKbFURpvwxVdA3 agent 22200 11100 
default (unlocked) >>> debug_advance_time 1 blocks
default (unlocked) >>> debug_wait 4
default (unlocked) >>> wallet_escrow_summary sender
default (unlocked) >>> wallet_escrow_summary receiver
default (unlocked) >>> balance receiver
default (unlocked) >>> balance sender
default (unlocked) >>> quit
